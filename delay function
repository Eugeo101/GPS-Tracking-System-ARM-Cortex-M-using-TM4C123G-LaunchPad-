#include "tm4c123gh6pm.h" // that has all defines and addresses
void init_Timer_delay(void)
{
	NVIC_ST_CTRL_R = NVIC_ST_CTRL_R & ~(0x00000001); //disable Timer
	NVIC_ST_RELOAD_R = 16000000 - 1; //to make 1 secound as our Tiva has clk = 16 MHZ
	NVIC_ST_CURRENT_R = 0; //to clear counter value and underflow flag of counter
	NVIC_ST_CTRL_R |= 0x5; //to put at source clk 1 to get PROCESOR CLK NOT its 8th only and enable Timer
}
void delay(int s);

unsigned int frac = 0;
unsigned int counter = 0;

int main()
{
init_PortF();


	while (1)
	{
		counter++;
		GPIO_PORTF_DATA_R &= ~(0x0E); //clear leds
		GPIO_PORTF_DATA_R |= 0x02;   //Read On
		delay(2);
		GPIO_PORTF_DATA_R ^= 0x02;
	}
}

void delay(int s)
{
	init_Timer_delay();
	//int frac = s - (int)s;
	if (s == 1) //base case of recursive
	{
		if ((NVIC_ST_RELOAD_R & 0x10000) == 1)
				;
		return;
	}
	else //recruisive body
	{
		if ((NVIC_ST_RELOAD_R & 0x10000) == 1)
				;
		delay(s-1);
	}
}
